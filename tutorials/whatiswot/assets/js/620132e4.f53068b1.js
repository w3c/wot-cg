"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[455],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(a),h=r,m=u["".concat(s,".").concat(h)]||u[h]||c[h]||o;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},5981:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(7462),r=(a(7294),a(3905)),o=a(4996);const i={sidebar_label:"Payloads and Headers"},l="Payloads and Headers",s={unversionedId:"preliminary/payloads",id:"preliminary/payloads",title:"Payloads and Headers",description:"If YouTube does not work, click here to watch from our GitHub repository.",source:"@site/docs/preliminary/payloads.md",sourceDirName:"preliminary",slug:"/preliminary/payloads",permalink:"/wot-cg/tutorials/whatiswot/docs/preliminary/payloads",draft:!1,editUrl:"https://github.com/w3c/wot-cg/edit/main/Tutorials/whatiswot/website/docs/preliminary/payloads.md",tags:[],version:"current",frontMatter:{sidebar_label:"Payloads and Headers"},sidebar:"tutorialSidebar",previous:{title:"Tutorial Introduction",permalink:"/wot-cg/tutorials/whatiswot/docs/intro"},next:{title:"Introduction",permalink:"/wot-cg/tutorials/whatiswot/docs/preliminary/json/intro"}},p={},d=[{value:"Introduction",id:"introduction",level:2},{value:"What is a payload?",id:"what-is-a-payload",level:2},{value:"What is a header?",id:"what-is-a-header",level:2},{value:"Header Example",id:"header-example",level:2},{value:"Payload Types",id:"payload-types",level:2},{value:"Why is JSON important?",id:"why-is-json-important",level:2},{value:"Comparison",id:"comparison",level:2}],u={toc:d},c="wrapper";function h(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"payloads-and-headers"},"Payloads and Headers"),(0,r.kt)("iframe",{width:"100%",height:"400",src:"https://www.youtube.com/embed/uooaqTpNtNw?si=vCoRygpQYoy3CXBe",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),(0,r.kt)("p",null,"If YouTube does not work, ",(0,r.kt)("a",{href:"https://github.com/w3c/wot-cg/blob/main/Tutorials/whatiswot/2-Payloads_and_Headers/2-Payloads_and_Headers.mp4"},"click here to watch from our GitHub repository."),"  "),(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("p",null,"This is an introductory series that presents technologies and standards relevant to the Web of Things."),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"In the Web of Things, smart devices typically exchange data with each other. Such data is sent via payloads, therefore it is essential to understand what payloads are and the headers that describe them. Thus, in this section, we will cover the topics of headers and the different types of payloads - including JSON, the most used one in the scope of WoT, and its importance."),(0,r.kt)("figure",{id:"fig-payloads-headers-overview"},(0,r.kt)("img",{src:(0,o.Z)("/img/tutorial/Payloads-And-Headers/payloadsandheaders.png"),alt:"Relationship between payloads and headers"}),(0,r.kt)("figcaption",null,(0,r.kt)("strong",null,"Figure 1.")," Relationship between payloads and headers.")),(0,r.kt)("h2",{id:"what-is-a-payload"},"What is a payload?"),(0,r.kt)("p",null,"In computing, the payload is the part of transmitted data that is the actual intended message of the application and has nothing to do with the protocol itself. It is also called the body of the message. It is not mandatory in most protocols."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"A payload should not tell what should be done by itself. We can better explain this concept with an analogy, where we consider the protocol as a truck. We can think of the payload contents as the goods that this truck is transporting. The truck's goods should not contain any information about their destination, the fact that they are transported with a truck or the color of the truck.")),(0,r.kt)("h2",{id:"what-is-a-header"},"What is a header?"),(0,r.kt)("p",null,"The header is part of a message that can and should be understood by the protocol stack. All the information that the payload should not contain, goes to the header."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Let's go back to our truck example. As seen in ",(0,r.kt)("a",{parentName:"p",href:"#fig-truck-example"},"Figure 2"),", the header would be the label on the goods - indicating where they are being transported, what they are and etc.")),(0,r.kt)("figure",{id:"fig-truck-example"},(0,r.kt)("img",{src:(0,o.Z)("/img/tutorial/Payloads-And-Headers/truck.png"),alt:"Truck and parcel header analogy"}),(0,r.kt)("figcaption",null,(0,r.kt)("strong",null,"Figure 2.")," Analogy showing headers as labels on transported goods.")),(0,r.kt)("h2",{id:"header-example"},"Header Example"),(0,r.kt)("p",null,"This is what an HTTP header can look like. A header can contain information like request context, response context, status and it can indicate payload type."),(0,r.kt)("figure",{id:"fig-http-header-example"},(0,r.kt)("img",{src:(0,o.Z)("/img/tutorial/Payloads-And-Headers/httpheader.png"),alt:"Example contents of an HTTP header"}),(0,r.kt)("figcaption",null,(0,r.kt)("strong",null,"Figure 3.")," Example contents of an HTTP header.")),(0,r.kt)("h2",{id:"payload-types"},"Payload Types"),(0,r.kt)("p",null,"There are different payload types: JSON, XML, CBOR, text and audio to name a few."),(0,r.kt)("p",null,"So let us show you an example of a ",(0,r.kt)("strong",{parentName:"p"},"JSON payload"),". "),(0,r.kt)("figure",{id:"fig-json-payload-example"},(0,r.kt)("img",{src:(0,o.Z)("/img/tutorial/Payloads-And-Headers/jsonexample.png"),alt:"Example of a JSON payload with sensor values"}),(0,r.kt)("figcaption",null,(0,r.kt)("strong",null,"Figure 4.")," Example of a JSON payload used by a temperature sensor.")),(0,r.kt)("p",null,"For this example we will take a look at a temperature sensor. ",(0,r.kt)("a",{parentName:"p",href:"#fig-json-payload-example"},"Figure 4")," helps to illustrate the payloads and their relationship to the sensor. The temperature payload is a single number and is being sent from the sensor. The configuration payload is a JSON object consisting of key/value pairs desiredUnit and updateInterval and is sent to the sensor."),(0,r.kt)("p",null,"Temparature payload:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"90\n")),(0,r.kt)("p",null,"Configuration payload:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "desiredUnit": "celcius",\n  "updateInterval": 30\n}\n')),(0,r.kt)("h2",{id:"why-is-json-important"},"Why is JSON important?"),(0,r.kt)("p",null,"Because JSON is very relevant in the scope of the Web of Things, payloads are preferred mostly in JSON. Additionally, many other API and configuration files use JSON as well."),(0,r.kt)("p",null,"Here, you can see an example of a TD in JSON format. We will go into the details of how a TD should be structured and understood in a later section of this tutorial."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers",showLineNumbers:!0},'{\n     "@context": "https://www.w3.org/2022/wot/td/v1.1",\n     "title": "MyLampThing",\n                \u2026\n     "security": "basic_sc",\n      "properties": {\n           "status": {\n                "type": "string", "forms": [{"href": "https://mylamp.example.com/status"}]\n            }\n     },\n     "actions": {\n          "toggle": {\n               "forms": [{"href": "https://mylamp.example.com/toggle"}]\n          }\n     },\n     "events":{\n          "overheating":{\n               "data": {"type": "string"},\n               "forms": [{\n                    "href": "https://mylamp.example.com/oh", "subprotocol": "longpoll" }]\n          }\n     }\n}\n')),(0,r.kt)("h2",{id:"comparison"},"Comparison"),(0,r.kt)("p",null,"Let's take a look at this JSON example including a few Thing Descriptions - a temperature, humidity and brightness sensors. Each sensor entry includes details such as its type or name, the last calibration date if available, the current measurement value along with its unit, and whether the sensor is active or not."),(0,r.kt)("p",null,"JSON Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:"showLineNumbers",showLineNumbers:!0},'[\n  {\n    "type": "Temperature Sensor",\n    "lastCalibration": "2018-11-13",\n    "measurement": {\n      "value": 25,\n      "unit": "Celsius"\n    },\n    "isActive": true,\n    "precision": 0.1\n  },\n  {\n    "type": "Humidity Sensor",\n    "lastCalibration": null,\n    "measurement": {\n      "value": 60,\n      "unit": "Percent"\n    },\n    "isActive": true\n  },\n  {\n    "name": "Brightness Sensor",\n    "lastCalibration": "2020-01-19",\n    "measurement": {\n      "value": 2,\n      "unit": "Lux"\n    },\n    "isActive": false\n  }\n]\n')),(0,r.kt)("p",null,"This representation is much more light-weight compared to XML, as seen in the example below..."),(0,r.kt)("p",null,"XML Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"showLineNumbers",showLineNumbers:!0},'<root>\n   <element>\n      <isActive>true</isActive>\n      <lastCalibration>2018-11-13</lastCalibration>\n      <measurement>\n         <unit>Celsius</unit>\n         <value>25</value>\n      </measurement>\n      <precision>0.1</precision>\n      <type>Temperature Sensor</type>\n   </element>\n   <element>\n      <isActive>true</isActive>\n      <lastCalibration null="true" />\n      <measurement>\n         <unit>Percent</unit>\n         <value>60</value>\n      </measurement>\n      <type>Humidity Sensor</type>\n   </element>\n   <element>\n      <isActive>false</isActive>\n      <lastCalibration>2020-01-19</lastCalibration>\n      <measurement>\n         <unit>Lux</unit>\n         <value>2</value>\n      </measurement>\n      <name>Brightness Sensor</name>\n   </element>\n</root>\n\n')),(0,r.kt)("p",null,"...and more human-readable compared to CBOR."),(0,r.kt)("p",null,"CBOR Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"83A564747970657254656D70657261747572652053656E736F726F6C61737443616C6962726174696F6E7819323031382D31312D31335432303A32303A33392B30303A30306B6D6561737572656D656E74A26576616C7565181964756E69746743656C73697573686973416374697665F569707265636973696F6EFB3FB999999999999AA464747970656F48756D69646974792053656E736F726F6C61737443616C6962726174696F6EF66B6D6561737572656D656E74A26576616C7565183C64756E69746750657263656E74686973416374697665F5A4646E616D65714272696768746E6573732053656E736F726F6C61737443616C6962726174696F6E7819323032302D30312D31395432303A32303A33352B30303A30306B6D6561737572656D656E74A26576616C75650264756E6974634C7578686973416374697665F4\n")),(0,r.kt)("p",null,"Last but not least, JSON is well-established and has a schema language called JSON Schema. It can be used to describe and validate JSON data."))}h.isMDXComponent=!0}}]);